@mixin bce-default-color($name) {
  @include bce-color($name);
}

@mixin bce-define-color($color, $name, $custom-shades: ()) {
  $color1: nth($color, 1);
  $color2: #fff;

  @if length($color) > 1 {
    $color2: nth($color, 2);
  }

  // Define color
  --bce-color-#{$name}-l: #{lighten($color1, 10%)};
  --bce-color-#{$name}-n: #{$color1};
  --bce-color-#{$name}-d: #{darken($color1, 10%)};
  --bce-color-#{$name}-t: #{$color2};
  
  // Define custom shades
  @each $key, $opacity in $custom-shades {
    --bce-color-#{$name}-#{$key}: #{rgba($color1, $opacity)};
  }
  
  // Define color attribute modifiers
  *[color='#{$name}'] {
    @include bce-color($name);
  }
}

@mixin bce-color($name) {
  --bce-color-l: #{bce-color($name, 'l')};
  --bce-color-n: #{bce-color($name, 'n')};
  --bce-color-d: #{bce-color($name, 'd')};
  --bce-color-t: #{bce-color($name, 't')};
}

@function bce-color($name: '', $modifier: 'n') {
  $var-name: --bce-color;
  @if $name != '' {
    $var-name: --bce-color-#{$name};
  }

  @return unquote('var(#{$var-name}-#{$modifier})');
}

@function bce-color-t($name: '') {
  @return bce-color($name, 't');
}

@function bce-color-l($name: '') {
  @return bce-color($name, 'l');
}

@function bce-color-d($name: '') {
  @return bce-color($name, 'd');
}
